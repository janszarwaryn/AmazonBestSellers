<div class="min-h-screen bg-surface flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full">
    <div class="text-center mb-12">
      <div class="inline-flex items-center justify-center w-16 h-16 bg-accent rounded-2xl mb-6 shadow-elegant">
        <i class="pi pi-user-plus text-white text-3xl"></i>
      </div>
      <h1 class="text-5xl font-heading font-bold text-primary mb-3 tracking-tight">
        Join us
      </h1>
      <p class="text-secondary text-base">
        Create your account in moments
      </p>
    </div>

    <div class="bg-white rounded-2xl shadow-card hover:shadow-card-hover transition-elegant p-8">
      <form [formGroup]="registerForm" (ngSubmit)="onSubmit()" class="space-y-6">
        @if (errorMessage()) {
          <div class="bg-red-50 border border-red-200 rounded-lg p-4">
            <div class="flex items-start">
              <i class="pi pi-exclamation-circle text-red-500 text-lg mt-0.5 mr-3"></i>
              <p class="text-sm text-red-700">{{ errorMessage() }}</p>
            </div>
          </div>
        }

        <div class="space-y-2">
          <label for="username" class="block text-sm font-medium text-primary mb-2">
            Username
          </label>
          <input
            pInputText
            id="username"
            formControlName="username"
            placeholder="Enter your username"
            class="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-elegant"
            [class.border-red-500]="username?.invalid && username?.touched"
          />
          @if (username?.invalid && username?.touched) {
            <small class="text-red-500 text-xs mt-1 flex items-center">
              <i class="pi pi-times-circle text-xs mr-1"></i>
              @if (username?.errors?.['required']) {
                Username is required
              }
              @if (username?.errors?.['minlength']) {
                Username must be at least 5 characters
              }
              @if (username?.errors?.['pattern']) {
                Username can only contain letters and numbers
              }
            </small>
          }
        </div>

        <div class="space-y-2">
          <label for="password" class="block text-sm font-medium text-primary mb-2">
            Password
          </label>
          <p-password
            formControlName="password"
            [feedback]="true"
            [toggleMask]="true"
            placeholder="Enter your password"
            styleClass="w-full"
            inputStyleClass="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-elegant"
            [class.border-red-500]="password?.invalid && password?.touched"
          ></p-password>
          @if (password?.invalid && password?.touched) {
            <div class="text-red-500 text-xs mt-1">
              <div class="flex items-center mb-1">
                <i class="pi pi-times-circle text-xs mr-1"></i>
                @if (password?.errors?.['required']) {
                  <span>Password is required</span>
                }
                @if (password?.errors?.['minlength']) {
                  <span>Password must be at least 8 characters</span>
                }
              </div>
              @if (password?.errors?.['passwordComplexity']) {
                <div class="bg-red-50 border border-red-100 rounded-lg p-3 mt-2">
                  <div class="font-medium mb-2">Password must contain:</div>
                  <ul class="space-y-1 ml-2">
                    <li class="flex items-center">
                      <i class="pi pi-check-circle text-xs mr-1.5" [class.text-green-500]="password?.errors?.['passwordComplexity']?.hasUpperCase" [class.text-red-400]="!password?.errors?.['passwordComplexity']?.hasUpperCase"></i>
                      <span>At least one uppercase letter</span>
                    </li>
                    <li class="flex items-center">
                      <i class="pi pi-check-circle text-xs mr-1.5" [class.text-green-500]="password?.errors?.['passwordComplexity']?.hasLowerCase" [class.text-red-400]="!password?.errors?.['passwordComplexity']?.hasLowerCase"></i>
                      <span>At least one lowercase letter</span>
                    </li>
                    <li class="flex items-center">
                      <i class="pi pi-check-circle text-xs mr-1.5" [class.text-green-500]="password?.errors?.['passwordComplexity']?.hasDigit" [class.text-red-400]="!password?.errors?.['passwordComplexity']?.hasDigit"></i>
                      <span>At least one digit</span>
                    </li>
                    <li class="flex items-center">
                      <i class="pi pi-check-circle text-xs mr-1.5" [class.text-green-500]="password?.errors?.['passwordComplexity']?.hasSpecialChar" [class.text-red-400]="!password?.errors?.['passwordComplexity']?.hasSpecialChar"></i>
                      <span>At least one special character</span>
                    </li>
                  </ul>
                </div>
              }
            </div>
          }
        </div>

        <div class="space-y-2">
          <label for="passwordConfirm" class="block text-sm font-medium text-primary mb-2">
            Confirm password
          </label>
          <p-password
            formControlName="passwordConfirm"
            [feedback]="false"
            [toggleMask]="true"
            placeholder="Confirm your password"
            styleClass="w-full"
            inputStyleClass="w-full px-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent focus:border-transparent transition-elegant"
            [class.border-red-500]="passwordConfirm?.invalid && passwordConfirm?.touched"
          ></p-password>
          @if (passwordConfirm?.invalid && passwordConfirm?.touched) {
            <small class="text-red-500 text-xs mt-1 flex items-center">
              <i class="pi pi-times-circle text-xs mr-1"></i>
              @if (passwordConfirm?.errors?.['required']) {
                Please confirm your password
              }
              @if (passwordConfirm?.errors?.['passwordMismatch']) {
                Passwords do not match
              }
            </small>
          }
        </div>

        <button
          type="submit"
          [disabled]="loading()"
          class="w-full bg-accent hover:bg-accent-dark text-white font-medium py-3.5 rounded-lg shadow-sm hover:shadow-md transition-elegant flex items-center justify-center space-x-2 disabled:opacity-70 disabled:cursor-not-allowed">
          @if (loading()) {
            <i class="pi pi-spin pi-spinner"></i>
            <span>Signing up...</span>
          } @else {
            <i class="pi pi-user-plus"></i>
            <span>Sign up</span>
          }
        </button>

        <div class="text-center pt-4 border-t border-gray-100">
          <p class="text-sm text-secondary">
            Already have an account?
            <a routerLink="/login" class="text-accent hover:text-accent-dark font-medium transition-elegant ml-1">
              Log in here
            </a>
          </p>
        </div>
      </form>
    </div>

    <p class="text-center text-xs text-secondary mt-8">
      By signing up, you accept our terms of service and privacy policy
    </p>
  </div>
</div>
